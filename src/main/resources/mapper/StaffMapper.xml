<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!--
<mapper namespace="com.sml.mybatisdemo.dao.UserDao">
    <select id="getAllUser" resultType="com.sml.mybatisdemo.domin.User" >
        SELECT * FROM userinfo;
    </select>

    <insert id="insert" parameterType="com.sml.mybatisdemo.domin.User" useGeneratedKeys="true" keyProperty="userId">
        insert into
            userinfo(id,userName,age, sex)
        values
            (#{id},#{userName},#{age},#{sex})
    </insert>
</mapper>
-->
    <mapper namespace="com.myproject.api.springboot_mybatis.dao.StaffDao">

    <resultMap id="BaseResultMap" type="com.myproject.api.springboot_mybatis.entity.Staff">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 19 15:54:42 CST 2018.
        -->
        <id column="staff_id" jdbcType="INTEGER" property="staff_id" />
        <id column="staff_account" jdbcType="VARCHAR" property="staff_account" />
        <result column="staff_photo" jdbcType="VARCHAR" property="staff_photo" />
        <result column="staff_name" jdbcType="VARCHAR" property="staff_name" />
        <result column="staff_sex" jdbcType="VARCHAR" property="staff_sex" />
        <result column="staff_birthday" jdbcType="DATE" property="staff_birthday" />
        <result column="staff_status" jdbcType="VARCHAR" property="staff_status" />
        <result column="staff_type" jdbcType="VARCHAR" property="staff_type" />
        <result column="staff_department" jdbcType="VARCHAR" property="staff_department" />
        <result column="staff_job" jdbcType="VARCHAR" property="staff_job" />
        <result column="staff_nation" jdbcType="VARCHAR" property="staff_nation" />
        <result column="staff_wage" jdbcType="VARCHAR" property="staff_wage" />
        <result column="staff_native_place" jdbcType="VARCHAR" property="staff_native_place" />
        <result column="staff_birth_place" jdbcType="VARCHAR" property="staff_birth_place" />
        <result column="staff_in_date" jdbcType="DATE" property="staff_in_date" />
        <result column="staff_out_date" jdbcType="DATE" property="staff_out_date" />
        <result column="staff_phone" jdbcType="VARCHAR" property="staff_phone" />
        <result column="staff_email" jdbcType="VARCHAR" property="staff_email" />
        <result column="staff_annual_leave" jdbcType="VARCHAR" property="staff_annual_leave" />
        <result column="staff_permission" jdbcType="VARCHAR" property="staff_permission" />
        <result column="staff_politic" jdbcType="VARCHAR" property="staff_politic" />
        <result column="staff_password" jdbcType="VARCHAR" property="staff_password" />
    </resultMap>

    <sql id="Base_Column_List">
        staff_id, staff_account, staff_password
    </sql>

    <select id="selectByAccount" resultMap="BaseResultMap">
        select *
        from staff
        where staff_account = #{staff_account,jdbcType=VARCHAR}
    </select>

    <select id="staffInfoById" resultType="com.myproject.api.springboot_mybatis.entity.Staff">
        select * from staff where staff_id = #{staff_id}
    </select>

    <update id="updateStaffInfo" parameterType="com.myproject.api.springboot_mybatis.entity.Staff">
        update staff set staff_account=#{staff_account},
                         staff_photo=#{staff_photo},staff_name=#{staff_name},
                         staff_sex=#{staff_sex},staff_birthday=#{staff_birthday},
                         staff_status=#{staff_status},staff_type=#{staff_type},
                         staff_department=#{staff_department},staff_job=#{staff_job},
                         staff_nation=#{staff_nation},staff_wage=#{staff_wage},
                         staff_native_place=#{staff_native_place},staff_birth_place=#{staff_birth_place},
                         staff_in_date=#{staff_in_date},staff_out_date=#{staff_out_date},
                         staff_phone=#{staff_phone},staff_email=#{staff_email},
                         staff_annual_leave=#{staff_annual_leave},staff_permission=#{staff_permission},
                         staff_politic=#{staff_politic},staff_password=#{staff_password}
        where staff_id = #{staff_id}
    </update>

	<insert id="insertStaff" parameterType="com.myproject.api.springboot_mybatis.entity.Staff">
        insert into staff
        (staff_account,staff_photo,staff_name,staff_sex,staff_birthday,staff_status,staff_type,
         staff_department,staff_job,staff_nation,staff_wage,staff_native_place,staff_birth_place,
         staff_in_date,staff_out_date,staff_phone,staff_email,staff_annual_leave,staff_permission,
         staff_politic,staff_password)
        VALUES (#{staff_account},#{staff_photo},#{staff_name},
        #{staff_sex},#{staff_birthday},#{staff_status},#{staff_type},#{staff_department},
        #{staff_job},#{staff_nation},#{staff_wage},#{staff_native_place},#{staff_birth_place}
        ,#{staff_in_date},#{staff_out_date},#{staff_phone},#{staff_email}
        ,#{staff_annual_leave},#{staff_permission},#{staff_politic},#{staff_password})
    </insert>

  <delete id="deleteStaff" parameterType="com.myproject.api.springboot_mybatis.entity.Staff">
        delete from staff where staff_id = #{staff_id}
    </delete>

  <update id="updateStaffDetail" parameterType="com.myproject.api.springboot_mybatis.entity.Staff">
        UPDATE staff set staff_photo = #{staff_photo},
         staff_name = #{staff_name},
         staff_birthday = #{staff_birthday},
         staff_type = #{staff_type},
         staff_department = #{staff_department},
         staff_job = #{staff_job},
         staff_nation = #{staff_nation},
         staff_wage = #{staff_wage},
         staff_native_place = #{staff_native_place},
         staff_birth_place = #{staff_birth_place},
         staff_in_date = #{staff_in_date},
         staff_out_date = #{staff_out_date},
         staff_phone = #{staff_phone},
         staff_email = #{staff_email},
         staff_annual_leave = #{staff_annual_leave},
         staff_permission = #{staff_permission},
         staff_politic = #{staff_politic}
        where staff_id = #{staff_id}
    </update>

  <select id="readAllStaff" resultType="com.myproject.api.springboot_mybatis.entity.Staff">
        select * from staff
    </select>

    <update id="updateStaff" parameterType="com.myproject.api.springboot_mybatis.entity.Staff">
        UPDATE staff set
         staff_name = #{staff_name},
         staff_sex = #{staff_sex},
         staff_phone = #{staff_phone},
         staff_job = #{staff_job},
         staff_wage = #{staff_wage},
         staff_permission = #{staff_permission}
        where staff_id = #{staff_id}
    </update>


</mapper>